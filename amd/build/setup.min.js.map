{"version":3,"file":"setup.min.js","sources":["../src/setup.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript controller for controlling the sections.\n *\n * @module     block_dashboard/setup\n * @package    blocks\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n// jshint unused: true, undef:true\ndefine(['jquery', 'core/log'], function ($, log) {\n\n    return {\n\n        init: function() {\n\n            // Attach togglestate handler to all handles in page.\n            $('.dashboard-setup-tablink').on('click', this.openpanel);\n\n            $('.dashboard-setup #menutabletype').on('change', this.showtabletypes);\n\n            $('.dashboard-setup #menugraphtype').on('change', this.showgraphtypes);\n\n            log.debug('Block dashboard AMD setup initialized');\n\n        },\n\n        openpanel: function() {\n\n            var that = $(this);\n            var regex = /tablink-([a-z0-9]+)/;\n            var matchs = regex.exec(that.attr('id'));\n            var panelid = matchs[1];\n\n            $('.dashboardsettings-panel').attr('class', 'dashboardsettings-panel off');\n            $('#dashboardsettings-panel-' + panelid).attr('class', 'dashboardsettings-panel on');\n            $('.setting-tab').removeClass('here');\n            $('#setting-tab-' + panelid).addClass('here');\n            $('.setting-tab').removeClass('active');\n            $('#setting-tab-' + panelid).addClass('active');\n        },\n\n        showtabletypes: function () {\n            var that = $(this);\n            var option = $(that.attr('id') + ' options:selected').val();\n            switch (option) {\n                case 'linear': {\n                    $('#setting-tab-tabularparams').attr('class', 'dashboardsettings-panel off');\n                    $('#setting-tab-treeviewparams').attr('class', 'dashboardsettings-panel off');\n                    break;\n                }\n\n                case 'tabular': {\n                    $('#setting-teb-tabularparams').attr('class', 'dashboardsettings-panel on');\n                    $('#setting-tab-treeviewparams').attr('class', 'dashboardsettings-panel off');\n                    break;\n                }\n\n                case 'treeview': {\n                    $('#setting-tab-tabularparams').attr('class', 'dashboardsettings-panel off');\n                    $('#setting-tab-treeviewparams').attr('class', 'dashboardsettings-panel on');\n                    break;\n                }\n            }\n        },\n\n        showgraphtypes: function () {\n            var that = $(this);\n            var option = $('#' + that.attr('id') + ' option:selected').attr('value');\n            log.debug('Graph type' + option);\n            switch (option) {\n\n                case 'googlemap': {\n                    $('#setting-tab-googleparams').attr('class', 'dashboardsettings-panel on');\n                    $('#setting-tab-timelineparams').attr('class', 'dashboardsettings-panel off');\n                    break;\n                }\n\n                case 'timeline': {\n                    $('#setting-tab-googleparams').attr('class', 'dashboardsettings-panel off');\n                    $('#setting-tab-timelineparams').attr('class', 'dashboardsettings-panel on');\n                    break;\n                }\n\n                default:\n                    $('#setting-tab-googleparams').attr('class', 'dashboardsettings-panel off');\n                    $('#setting-tab-timelineparams').attr('class', 'dashboardsettings-panel off');\n            }\n        }\n\n    };\n});"],"names":["define","$","log","init","on","this","openpanel","showtabletypes","showgraphtypes","debug","that","panelid","exec","attr","removeClass","addClass","val","option"],"mappings":";;;;;;;AAuBAA,+BAAO,CAAC,SAAU,aAAa,SAAUC,EAAGC,WAEjC,CAEHC,KAAM,WAGFF,EAAE,4BAA4BG,GAAG,QAASC,KAAKC,WAE/CL,EAAE,mCAAmCG,GAAG,SAAUC,KAAKE,gBAEvDN,EAAE,mCAAmCG,GAAG,SAAUC,KAAKG,gBAEvDN,IAAIO,MAAM,0CAIdH,UAAW,eAEHI,KAAOT,EAAEI,MAGTM,QAFQ,sBACOC,KAAKF,KAAKG,KAAK,OACb,GAErBZ,EAAE,4BAA4BY,KAAK,QAAS,+BAC5CZ,EAAE,4BAA8BU,SAASE,KAAK,QAAS,8BACvDZ,EAAE,gBAAgBa,YAAY,QAC9Bb,EAAE,gBAAkBU,SAASI,SAAS,QACtCd,EAAE,gBAAgBa,YAAY,UAC9Bb,EAAE,gBAAkBU,SAASI,SAAS,WAG1CR,eAAgB,eACRG,KAAOT,EAAEI,aACAJ,EAAES,KAAKG,KAAK,MAAQ,qBAAqBG,WAE7C,SACDf,EAAE,8BAA8BY,KAAK,QAAS,+BAC9CZ,EAAE,+BAA+BY,KAAK,QAAS,yCAI9C,UACDZ,EAAE,8BAA8BY,KAAK,QAAS,8BAC9CZ,EAAE,+BAA+BY,KAAK,QAAS,yCAI9C,WACDZ,EAAE,8BAA8BY,KAAK,QAAS,+BAC9CZ,EAAE,+BAA+BY,KAAK,QAAS,gCAM3DL,eAAgB,eACRE,KAAOT,EAAEI,MACTY,OAAShB,EAAE,IAAMS,KAAKG,KAAK,MAAQ,oBAAoBA,KAAK,gBAChEX,IAAIO,MAAM,aAAeQ,QACjBA,YAEC,YACDhB,EAAE,6BAA6BY,KAAK,QAAS,8BAC7CZ,EAAE,+BAA+BY,KAAK,QAAS,yCAI9C,WACDZ,EAAE,6BAA6BY,KAAK,QAAS,+BAC7CZ,EAAE,+BAA+BY,KAAK,QAAS,4CAK/CZ,EAAE,6BAA6BY,KAAK,QAAS,+BAC7CZ,EAAE,+BAA+BY,KAAK,QAAS,iCAKlE"}