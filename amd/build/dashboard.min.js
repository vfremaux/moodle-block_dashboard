/**
 * Javascript controller for controlling the sections.
 *
 * @module     block_dashboard/dashboard
 * @package    blocks
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("block_dashboard/dashboard",["jquery","core/log"],(function($,log){return{init:function(){var that=this;that.calendars=[];var lang=$("html").attr("lang").replace(/-/g,"_").substr(0,2);$(".dashboard-filter-autosubmit").each((function(){var blockid=/dashboard-auto-([0-9]+)/.exec($(this).attr("id"))[1];$(".dashboard-filter-element-"+blockid).on("change",that.submitdashboardfilter)})),$(".dashboard-filter-submitters").each((function(){$(this).on("click",that.submitdashboardfilter)})),$(".dashboard-param-date").each((function(){var id=$(this).attr("id");that.calendars[id]=new dhtmlXCalendarObject(id),that.calendars[id].loadUserLanguage(lang+"_utf8"),that.calendars[id].setSkin("dhx_web")})),$(".dashboard-param-daterange").each((function(){var id=$(this).attr("id");id=id.replace("_from",""),that.calendars[id]=new dhtmlXCalendarObject([id+"_from",id+"_to"]),that.calendars[id].loadUserLanguage(lang+"_utf8"),that.calendars[id].setSkin("dhx_web")})),log.debug("Block dashboard AMD initialized")},submitdashboardfilter:function(){var that=$(this),matchs=/(?:filter|filtersubmit)([0-9]+)_/.exec(that.attr("name"));if(matchs){var blockid=matchs[1];$("#dashboard-form-"+blockid).submit()}}}}));

//# sourceMappingURL=dashboard.min.js.map